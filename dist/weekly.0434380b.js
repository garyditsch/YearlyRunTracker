function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var a=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===a?new Date(t.getTime()):"number"==typeof t||"[object Number]"===a?new Date(t):("string"!=typeof t&&"[object String]"!==a||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function n(n,r){e(1,arguments);var s=r||{},o=s.locale,i=o&&o.options&&o.options.weekStartsOn,l=null==i?0:a(i),u=null==s.weekStartsOn?l:a(s.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=t(n),g=c.getDay(),p=(g<u?7:0)+g-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function r(r,s){var o,i;e(1,arguments);var l=t(r),u=l.getFullYear(),c=null==s||null===(o=s.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate,g=null==c?1:a(c),p=null==(null==s?void 0:s.firstWeekContainsDate)?g:a(s.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setFullYear(u+1,0,p),d.setHours(0,0,0,0);var f=n(d,s),w=new Date(0);w.setFullYear(u,0,p),w.setHours(0,0,0,0);var v=n(w,s);return l.getTime()>=f.getTime()?u+1:l.getTime()>=v.getTime()?u:u-1}function s(t,s){e(1,arguments);var o=s||{},i=o.locale,l=i&&i.options&&i.options.firstWeekContainsDate,u=null==l?1:a(l),c=null==o.firstWeekContainsDate?u:a(o.firstWeekContainsDate),g=r(t,s),p=new Date(0);p.setFullYear(g,0,c),p.setHours(0,0,0,0);var d=n(p,s);return d}const o=a=>a.reduce(((a,r)=>{const o=new Date(r.date),i=function(a,r){e(1,arguments);var o=t(a),i=n(o,r).getTime()-s(o,r).getTime();return Math.round(i/6048e5)+1}(o,{weekStartsOn:1}),l=`${o.getFullYear()}-${i}`;return a[l]||(a[l]=[]),a[l].push(r),a}),{}),i=async(e,t)=>{const a=await getRunData(e),n=await getRunData(t);Date.now();const r=[...a,...n],s=(await runDateValues(r)).sort(((e,t)=>e.date-t.date)),i=await o(s),l=(e=>e.map((e=>{const t=e[1].filter((e=>{if(!0===e.isFortyFive)return e})),a=e[1].reduce(((e,t)=>e+t.runDuration),0),n=e[1].reduce(((e,t)=>e+t.value),0);return t.length>3?{firstRunDate:e[1][0].date?e[1][0].date:"no run",week:e[0],numberOfRuns:e[1].length,weekDistance:n,weekDuration:a,fortyFiveSuccess:!0,runsOverFortyFive:t.length}:{firstRunDate:e[1][0].date?e[1][0].date:"no run",week:e[0],numberOfRuns:e[1].length,weekDistance:n,weekDuration:a,fortyFiveSuccess:!1,runsOverFortyFive:t.length}})))(Object.entries(i));return console.log(l),l};i("https://quizzical-tereshkova-82c9ca.netlify.app/api/get-run-data","https://quizzical-tereshkova-82c9ca.netlify.app/api/get-past-run-data").then((e=>{const t={type:"bar",data:{labels:e.map((e=>e.week)),datasets:[{label:"Miles",backgroundColor:"rgb(140, 192, 221)",borderColor:"rgb(140, 192, 221)",data:e.map((e=>parseFloat(e.weekDistance.toFixed(2))))}]},options:{plugins:{legend:{display:!1}}}};new Chart(document.getElementById("myWeeklyChart"),t)})).catch((e=>console.log(e))),i("https://quizzical-tereshkova-82c9ca.netlify.app/api/get-run-data","https://quizzical-tereshkova-82c9ca.netlify.app/api/get-past-run-data").then((e=>{const t=e.map((e=>e.week)),a=e.map((e=>e.runsOverFortyFive));console.log(a);const n={type:"bar",data:{labels:t,datasets:[{label:"Success",backgroundColor:"rgb(140, 192, 221)",borderColor:"rgb(140, 192, 221)",data:a}]},options:{plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:function(e,t,a){return 4==e?"Success":e}}}}}};new Chart(document.getElementById("myWeeklySuccessChart"),n)})).catch((e=>console.log(e)));
//# sourceMappingURL=weekly.0434380b.js.map
